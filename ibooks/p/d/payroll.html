<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="../../img/book-outline.svg">
    <title>ibooks | Payroll</title>
    <link rel="stylesheet" href="../../main/main.css">
    <link rel="stylesheet" href="../css/payroll.css">
</head>
<body>
    <div id="wpr">
        <nav>
            <div id="app">
                <button type="button" class="mq0">
                    <ion-icon name="arrow-down-outline"></ion-icon>
                </button>
                <ion-icon name="book-outline"></ion-icon>
                <span>ibooks</span>
            </div>
            <div id="nav_menu">
                <a href="#" data-name="isDashboard">
                    <ion-icon name="compass-outline"></ion-icon>
                    <span>Dashboard</span>
                </a>
                <a href="#" data-name="isEmployee">
                    <ion-icon name="people-outline"></ion-icon>
                    <!-- <ion-icon name="person-outline"></ion-icon> -->
                    <!-- <ion-icon name="person-add-outline"></ion-icon> -->
                    <span>Employees</span>
                </a>
                <a href="#" data-name="isPayroll" class="on">
                    <ion-icon name="wallet-outline"></ion-icon>
                    <span>Payroll</span>
                </a>
            </div>
            <div>
                <a href="#">
                    <ion-icon name="bag-check-outline"></ion-icon>
                    <span>Account Plan</span>
                </a>
            </div>
        </nav>
        <main>
            <header>
                <button type="button" class="mq0 menu">
                    <ion-icon name="arrow-down-outline"></ion-icon>
                </button>
                <ion-icon name="wallet-outline"></ion-icon>
                <span id="page">Payroll</span>
                <div id="sfm">
                    <form action="#">
                        <ion-icon name="arrow-down-outline" class="mqvh"></ion-icon>
                        <input type="search" name="srch" id="srch" placeholder="Search">
                    </form>
                    <ion-icon name="search-outline"></ion-icon>
                </div>
                <div id="ufo">
                    <div class="umg"></div>
                    <div>
                        <div id="bkt">
                            <div id="bhd">
                                <button type="button" class="mq0">
                                    <ion-icon name="person-remove-outline"></ion-icon>
                                </button>
                                <span class="mq"><ion-icon name="person-remove-outline"></ion-icon></span>
                                <span>Account Info</span>
                            </div>
                            <div id=bbd>
                                <div class="umg sc2"></div>
                                <p>Anthony Trollope Norma Clarke Michael Murpurgo<br><small>Manager</small></p>
                                <div id="ubn">
                                    <button type="button">
                                        <ion-icon name="create-outline"></ion-icon>
                                        <span>Edit Profile</span>
                                    </button>
                                    <button type="button">
                                        <ion-icon name="create-outline"></ion-icon>
                                        <span>View Plan</span>
                                    </button>
                                </div>
                            </div>
                            <div id="bft">
                                <button type="button" id="lgt">
                                    <ion-icon name="log-out-outline"></ion-icon>
                                    <span>Logout</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" class="mq0 more">
                    <ion-icon name="arrow-down-outline"></ion-icon>
                </button>
            </header>
            <div>
                <aside>
                    <div id="pages">
                        <button type="button">Payroll</button>
                        <button type="button">Settings</button>
                        <div id="slider"></div>
                    </div>
                    <div id="content">
                        <!-- <template> -->
                        <div class="td">
                            <span data-abbr="B">Paula Byrne</span>
                            <span>M</span>
                            <span>Justice</span>
                            <span>Attorney General</span>
                        </div>
                        <div id="roll" popover="manual">
                            <div id="board">
                                <div>
                                    <button type="button" popovertarget="roll" popovertargetaction="hide" class="mq">
                                        <ion-icon name="chevron-back-outline"></ion-icon>
                                    </button>
                                    <span>DAVID SUCHET</span>
                                    <button type="button" popovertarget="mnth" popovertargetaction="show">
                                        <span>JAN</span>
                                        <ion-icon name="chevron-back-outline"></ion-icon>
                                    </button>
                                    <div id="mnth" class="resz" popover>
                                        <menu>
                                            <li class="on">JAN</li>
                                            <li>FEB</li>
                                            <li>MAR</li>
                                            <li>APR</li>
                                            <li>MAY</li>
                                            <li>JUN</li>
                                            <li>JUL</li>
                                            <li>AUG</li>
                                            <li>SEP</li>
                                            <li>OCT</li>
                                            <li>NOV</li>
                                            <li>DEC</li>
                                        </menu>
                                    </div>
                                    <button type="button" popovertarget="earded" popovertargetaction="show">
                                        <ion-icon name="ellipsis-vertical-outline"></ion-icon>
                                    </button>
                                    <div id="earded" class="resz" popover>
                                        <menu>
                                            <li><button type="button" popovertarget="newpaye" popovertargetaction="show">Earnings</button></li>
                                            <li><button type="button" popovertarget="newpaye" popovertargetaction="show">Deductions</button></li>
                                        </menu>
                                    </div>
                                    <button type="button" popovertarget="roll" popovertargetaction="hide" class="resp">
                                        <ion-icon name="close-outline"></ion-icon>
                                    </button>
                                </div>
                                <div>
                                    <button type="button" class="on">EARNINGS</button>
                                    <button type="button">DEDUCTIONS</button>
                                    <div>
                                        <span>Earning 1</span><span>1000000</span>
                                        <span>Earning 1</span><span>1000000</span>
                                        <span>Earning 1</span><span>1000000</span>
                                        <span>Earning 1</span><span>1000000</span>
                                        <span>Earning 1</span><span>1000000</span>
                                    </div>
                                    <div>
                                        <span>Deduction 1</span><span>30000</span>
                                        <span>Deduction 1</span><span>30000</span>
                                        <span>Deduction 1</span><span>30000</span>
                                        <span>Deduction 1</span><span>30000</span>
                                        <span>Deduction 1</span><span>30000</span>
                                    </div>
                                </div>
                                <div>
                                    <small>Net Pay: <span>&#8358;1000000000</span></small><br>
                                    <small>Fiscal Yr. 2025</small>
                                </div>
                            </div>
                        </div>
                        <div id="newpaye" popover>
                            <div>
                                <div class="nghd">
                                    <span>PAYE Earnings</span>
                                    <button type="button" popovertarget="newpaye" popovertargetaction="hide">
                                        <ion-icon name="chevron-back-outline"></ion-icon>
                                    </button>
                                </div>
                                <form action="#" autocomplete="off">
                                    <div class="fdset">
                                        <select name="payetype" id="payetype" required>
                                            <option value="">Choose category</option>
                                            <option value="Meal">Meal</option>
                                            <option value="Transportation">Transportation</option>
                                            <option value="New">New</option>
                                        </select>
                                        <ion-icon name="chevron-back-outline"></ion-icon>
                                    </div>
                                    <div class="fdset">
                                        <input type="text" name="other" placeholder="Specify Other" readonly required>
                                    </div>
                                    <div class="fdset">
                                        <input type="number" name="amt" placeholder="Amount (NGN)" required>
                                    </div>
                                    <div class="fdset">
                                        <input type="date" name="time" placeholder="Date of Effect" required>
                                    </div>
                                    <button>UPDATE PAYE</button>
                                </form>
                            </div>
                        </div>
                        <!-- </template> -->
                        <template id="tempset">
                            <div class="gears">
                                <label class="g0" for="earn">
                                    <input type="checkbox" checked name="set" id="earn">
                                    <span>Earnings</span>
                                    <button type="button" title="Add New Earning" popovertarget="newgear" popoovertargetaction="show">
                                        <ion-icon name="add-outline"></ion-icon>
                                    </button>
                                    <ion-icon name="chevron-back-outline"></ion-icon>
                                </label>
                                <div class="g1">
                                    <div>
                                        <button type="button">
                                            <span>Basic</span>
                                            <ion-icon name="chevron-back-outline"></ion-icon>
                                        </button>
                                        <input type="checkbox" name="cb0" id="cb0" class="toggle"/>
                                        <label for="cb0"></label>
                                    </div>
                                    <div>
                                        <button type="button">
                                            <span>Housing</span>
                                            <ion-icon name="chevron-back-outline"></ion-icon>
                                        </button>
                                        <input type="checkbox" name="cb1" id="cb1" class="toggle"/>
                                        <label for="cb1"></label>
                                    </div>
                                    <div>
                                        <button type="button">
                                            <span>Transportation</span>
                                            <ion-icon name="chevron-back-outline"></ion-icon>
                                        </button>
                                        <input type="checkbox" name="cb2" id="cb2" class="toggle"/>
                                        <label for="cb2"></label>
                                    </div>
                                    <div>
                                        <button type="button">
                                            <span>Transportation</span>
                                            <ion-icon name="chevron-back-outline"></ion-icon>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="gears">
                                <label class="g0" for="ded">
                                    <input type="checkbox" checked name="set" id="ded">
                                    <span>Deductions</span>
                                    <button type="button" title="Add New Deduction" popovertarget="newgear" popoovertargetaction="show">
                                        <ion-icon name="add-outline"></ion-icon>
                                    </button>
                                    <ion-icon name="chevron-back-outline"></ion-icon>
                                </label>
                                <div class="g1">
                                    <div>
                                        <button type="button">
                                            <span>Loan</span>
                                            <ion-icon name="chevron-back-outline"></ion-icon>
                                        </button>
                                        <input type="checkbox" name="cb3" id="cb3" class="toggle"/>
                                        <label for="cb3"></label>
                                    </div>
                                    <div>
                                        <button type="button">
                                            <span>Cooperative</span>
                                            <ion-icon name="chevron-back-outline"></ion-icon>
                                        </button>
                                        <input type="checkbox" name="cb4" id="cb4" class="toggle"/>
                                        <label for="cb4"></label>
                                    </div>
                                </div>
                            </div>
                            <div id="popgear" popover>
                                <div>EARNING</div>
                                <p>This setting is calculated as <span>8% of the Gross.</span></p>
                                <div>
                                    <button type="button">
                                        <span>Edit Settings</span>
                                    </button>
                                    <button type="button" popovertarget="delgear" popovertargetaction="show">
                                        <span>Delete Settings</span>
                                    </button>
                                </div>
                            </div>
                            <div id="delgear" popover>
                                <div>DELETE EARNING</div>
                                <p>Continue to delete <span>MEAL</span>?</p>
                                <div>
                                    <button type="button" popovertarget="delgear" popovertargetaction="hide">
                                        <span>CANCEL</span>
                                    </button>
                                    <button type="button">
                                        <span>DELETE</span>
                                    </button>
                                </div>
                            </div>
                            <div id="newgear" popover>
                                <div>
                                    <div class="nghd">
                                        <span>Settings for</span>
                                        <button type="button" popovertarget="newgear" popovertargetaction="hide">
                                            <ion-icon name="close-outline"></ion-icon>
                                        </button>
                                    </div>
                                    <form action="#" autocomplete="off">
                                        <div class="fdset">
                                            <select name="earnings" id="earnings" required>
                                                <option value="">Choose PAYE</option>
                                                <option value="Earnings">Earnings</option>
                                                <option value="Deductions">Deductions</option>
                                            </select>
                                            <ion-icon name="chevron-back-outline"></ion-icon>
                                        </div>
                                        <div class="fdset">
                                            <select name="category" id="category" required>
                                                <option value="">Choose category</option>
                                                <option value="Meal">Meal</option>
                                                <option value="Transportation">Transportation</option>
                                            </select>
                                            <ion-icon name="chevron-back-outline"></ion-icon>
                                        </div>
                                        <div class="fdset">
                                            <input type="text" name="other" placeholder="Specify Other" readonly required>
                                        </div>
                                        <div class="fdset">
                                            <input type="number" name="amt" placeholder="Enter Amount" required>
                                        </div>
                                        <div class="fdset">
                                            <select name="unit" id="unit" required>
                                                <option value="">Choose Unit of Amount</option>
                                                <option value="%">Percentage</option>
                                                <option value="&#8358;">Flat sum</option>
                                            </select>
                                            <ion-icon name="chevron-back-outline"></ion-icon>
                                        </div>
                                        <button>SAVE PAYE</button>
                                    </form>
                                </div>
                            </div>
                        </template>
                    </div>
                </aside>
                <aside>
                    <button type="button" title="Print">
                        <ion-icon name="print-outline"></ion-icon>
                        <span class="mq0">Print</span>
                    </button>
                    <button type="button" title="Download">
                        <ion-icon name="download-outline"></ion-icon>
                        <span class="mq0">Download</span>
                    </button>
                    <button type="button" title="Chat">
                        <ion-icon name="chatbox-ellipses-outline"></ion-icon>
                        <span class="mq0">Chatbot</span>
                    </button>
                    <button type="button" title="Help">
                        <ion-icon name="help-circle-outline"></ion-icon>
                        <span class="mq0">Help</span>
                    </button>
                </aside>
            </div>
            <footer>
                <div id="athr"><span>Powered by <i>Dynamax</i></span>|<span>2025</span></div>
            </footer>
            <div class="note on">
                <ion-icon name="checkmark-outline"></ion-icon>
                <span>New employee added</span>
            </div>
        </main>
        <div id="bkdp"></div>
        <div popover="manual" id="lodr"></div>
    </div>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="../../main/main.js"></script>
    <!-- <script src="../../lb/wc.js"></script> -->
    <!-- <script src="../js/payroll.js"></script> -->
    <script>
        document.querySelectorAll('.g1 > div').forEach(btn => {
            btn.onclick = (e) => {
                if (e.target.tagName == 'BUTTON') document.querySelector('#popgear').showPopover();
            }
        });

        //show roll
        document.querySelectorAll('.td').forEach(td => {
            td.onclick = function () {
                document.querySelector('[popover]#roll').showPopover();
            }
        });
        //resize window
        const mnthBtn = document.querySelector('#board > div:nth-child(1) > button:nth-of-type(2)');
        const resz = document.querySelectorAll('.resz');
        window.addEventListener('resize', () => resizePop());
        function resizePop () {
            resz.forEach(resz => {
                resz.ontoggle = (e) => {
                    resz.style.left = resz.previousElementSibling.getBoundingClientRect().right - e.target.clientWidth + 'px';
                    resz.style.top = resz.previousElementSibling.getBoundingClientRect().y + 50 + 'px';
                };
            });
        };
        document.getElementById('roll').addEventListener('toggle', (e) => {
            if (e.oldState == 'closed') resizePop();
        });
    </script>
</body>
</html>